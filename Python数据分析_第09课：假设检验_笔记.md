# ç»Ÿè®¡å­¦ 

ç»Ÿè®¡å­¦å¯ä»¥åˆ†ä¸ºï¼šæè¿°ç»Ÿè®¡å­¦ä¸æ¨æ–­ç»Ÿè®¡å­¦ 

**æè¿°ç»Ÿè®¡å­¦** ï¼šä½¿ç”¨ç‰¹å®šçš„æ•°å­—æˆ–å›¾è¡¨æ¥ä½“ç°æ•°æ®çš„é›†ä¸­ç¨‹åº¦å’Œç¦»æ•£ç¨‹åº¦ã€‚ä¾‹ï¼šæ¯æ¬¡è€ƒè¯•ç®—çš„å¹³å‡åˆ†ï¼Œæœ€é«˜åˆ†ï¼Œå„ä¸ªåˆ†æ®µçš„äººæ•°åˆ†å¸ƒç­‰ï¼Œä¹Ÿæ˜¯å±äºæè¿°ç»Ÿè®¡å­¦çš„èŒƒå›´ã€‚ 

**æ¨æ–­ç»Ÿè®¡å­¦** ï¼šæ ¹æ®æ ·æœ¬æ•°æ®æ¨æ–­æ€»ä½“æ•°æ®ç‰¹å¾ã€‚ä¾‹ï¼šäº§å“è´¨é‡æ£€æŸ¥ï¼Œä¸€èˆ¬é‡‡ç”¨æŠ½æ£€ï¼Œæ ¹ æ®æ‰€æŠ½æ ·æœ¬çš„è´¨é‡åˆæ ¼ç‡ä½œä¸ºæ€»ä½“çš„è´¨é‡åˆæ ¼ç‡çš„ä¸€ä¸ªä¼°è®¡ã€‚ 

## æè¿°ç»Ÿè®¡å­¦ 
### æ•°æ®ç‰¹å¾æè¿°åˆ†æ 

#### é›†ä¸­è¶‹åŠ¿ 

**å‡å€¼**ï¼šç®—æœ¯å¹³å‡æ•°ï¼Œæè¿°å¹³å‡æ°´å¹³ 

```python
from pandas import Series, DataFrame
import numpy as np

arr = [98, 83, 65, 72, 79, 76, 75, 94, 91, 77, 63, 83, 89, 69, 64, 78, 63, 86, 91, 72, 71, 72, 70, 80, 65, 70, 62, 74, 71,
       76]

# å‡å€¼
np.mean(arr)
```
    75.966666666666669

```python
np.mean(np.sort(arr)[14:16])
```
    74.5


**ä¸­ä½æ•°**ï¼šå°†æ•°æ®æŒ‰å¤§å°æ’åˆ—åä½äºæ­£ä¸­é—´çš„æ•°ï¼Œæè¿°ä¸­ç­‰æ°´å¹³ 


```python
# æ’åº
np.sort(arr)
```
    array([62, 63, 63, 64, 65, 65, 69, 70, 70, 71, 71, 72, 72, 72, 74, 75, 76,
           76, 77, 78, 79, 80, 83, 83, 86, 89, 91, 91, 94, 98])



**ä¼—æ•°**ï¼šæ•°æ®ä¸­å‡ºç°æœ€å¤šçš„æ•°ï¼Œæè¿°ä¸€èˆ¬æ°´å¹³ 
```python
# æ±‚ä¼—æ•°çš„å‡½æ•°
def get_mode(arr):
    mode = []
    arr_appear = dict((a, arr.count(a)) for a in arr)  # ç»Ÿè®¡å„ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°
    if max(arr_appear.values()) == 1:  # å¦‚æœæœ€å¤§çš„å‡ºç°ä¸º1  
        return  # åˆ™æ²¡æœ‰ä¼—æ•°
    else:
        for k, v in arr_appear.items():  # å¦åˆ™ï¼Œå‡ºç°æ¬¡æ•°æœ€å¤§çš„æ•°å­—ï¼Œå°±æ˜¯ä¼—æ•°  
            if v == max(arr_appear.values()):
                mode.append(k)
    return mode


get_mode(arr)
```
    [72]
&nbsp;  | ä¼˜ç‚¹ | ç¼ºç‚¹ 
-----------| -----------|------
å‡å€¼     | å……åˆ†åˆ©ç”¨æ‰€æœ‰æ•°æ®ï¼Œé€‚ç”¨æ€§å¼º | å®¹æ˜“å—åˆ°æç«¯å€¼å½±å“ 
ä¸­ä½æ•° | ä¸å—æç«¯å€¼å½±å“  | ç¼ºä¹æ•æ„Ÿæ€§ 
ä¼—æ•°    |  å½“æ•°æ®å…·æœ‰æ˜æ˜¾çš„é›†ä¸­è¶‹åŠ¿æ—¶ï¼Œå¯èƒ½ä»£è¡¨æ€§å¥½ï¼›ä¸å—æç«¯å€¼å½±å“ | ç¼ºä¹å”¯ä¸€æ€§ï¼šå¯èƒ½æœ‰ä¸€ä¸ªï¼Œæœ‰ä¸¤ä¸ªï¼Œå¯èƒ½ä¸€ä¸ªéƒ½æ²¡æœ‰ 

#### ç¦»æ•£ç¨‹åº¦çš„æè¿° 

**æå·®**ï¼šæœ€å¤§å€¼ - æœ€å°å€¼ï¼Œç®€å•åœ°æè¿°æ•°æ®çš„èŒƒå›´å¤§å° 

**æ–¹å·®**ï¼šåœ¨ç»Ÿè®¡å­¦ä¸Šï¼Œæ›´å¸¸åœ°æ˜¯ä½¿ç”¨æ–¹å·®æ¥æè¿°æ•°æ®çš„ç¦»æ•£ç¨‹åº¦â€”â€”æ•°æ®ç¦»ä¸­å¿ƒè¶Šè¿œè¶Šç¦»æ•£
$$ \sigma^2= \frac{1}{n}  \sum_{i=1}^n (X_i-\mu)^2  $$ 

å…¶ä¸­ï¼Œğ‘‹ è¡¨ç¤ºæ•°æ®é›†ä¸­ç¬¬ i ä¸ªæ•°æ®çš„å€¼ï¼Œ$\mu$ è¡¨ç¤ºæ•°æ®é›†çš„å‡å€¼ i

**æ ‡å‡†å·®**ï¼š$\sigma=\sqrt{\sigma^2}$ ï¼Œæœ‰æ•ˆçš„é¿å…äº†å› å•ä½å¹³æ–¹å¼•èµ·çš„åº¦é‡é—®é¢˜ã€‚æ ‡å‡†å·®çš„å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºæ•°æ®è¶Šåˆ†æ•£ã€‚

**ååº¦**ï¼šå¯¹æ•°æ®åˆ†å¸ƒçš„åæ–œç¨‹åº¦çš„è¡¡é‡ $E[(\frac{X-\mu}{\sigma})^3]$

```python
arr = Series(arr)
# ååº¦
arr.skew()
```




    0.57428918733545919

ååº¦å¯åˆ†ä¸ºæ­£æ€åˆ†å¸ƒï¼ˆååº¦=0ï¼‰ï¼Œå³ååˆ†å¸ƒï¼ˆä¹Ÿå«æ­£ååˆ†å¸ƒï¼Œå…¶ååº¦>0ï¼‰ï¼Œå·¦ååˆ†å¸ƒï¼ˆä¹Ÿå«è´Ÿååˆ†å¸ƒï¼Œå…¶ååº¦<0ï¼‰ã€‚

**å³°åº¦**ï¼šå¯¹æ•°æ®åˆ†å¸ƒçš„å³°æ€çš„è¡¡é‡ $E[(\frac{X-\mu}{\sigma})^4]$

å³°åº¦å¯åˆ†ä¸ºæ­£æ€åˆ†å¸ƒï¼ˆå³°åº¦å€¼=3ï¼‰ï¼Œåšå°¾ï¼ˆå³°åº¦å€¼>3ï¼‰ï¼Œç˜¦å°¾ï¼ˆå³°åº¦å€¼<3ï¼‰ã€‚
```python
# å³°åº¦
arr.kurt()
```
    -0.42872374795373291
    
**åˆ†ä½æ•°**ï¼šæ˜¯æŒ‡å°†ä¸€ä¸ªéšæœºå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒèŒƒå›´åˆ†ä¸ºå‡ ä¸ªç­‰ä»½çš„æ•°å€¼ç‚¹ã€‚

`describe` è¿”å›å€¼åŒ…æ‹¬ï¼šæ•°é‡ï¼Œå‡å€¼ï¼Œæ ‡å‡†å·®ï¼Œæœ€å°å€¼ï¼Œ25%åˆ†ä½æ•°ï¼Œ50%åˆ†ä½æ•°ï¼Œ75%åˆ†ä½æ•°ï¼Œæœ€å¤§å€¼ã€‚

```python
# æè¿°
arr.describe()
```
    count    30.000000
    mean     75.966667
    std       9.824260
    min      62.000000
    25%      70.000000
    50%      74.500000
    75%      82.250000
    max      98.000000
    dtype: float64
  
#### å¤šå…ƒæ•°æ®çš„æ•°æ®ç‰¹å¾    
**åæ–¹å·®**ï¼ˆCovarianceï¼‰åœ¨æ¦‚ç‡è®ºå’Œç»Ÿè®¡å­¦ä¸­ç”¨äºè¡¡é‡ä¸¤ä¸ªå˜é‡çš„æ€»ä½“è¯¯å·®ã€‚è€Œæ–¹å·®æ˜¯åæ–¹å·®çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå³å½“ä¸¤ä¸ªå˜é‡æ˜¯ç›¸åŒçš„æƒ…å†µã€‚

$$   Cov(X,Y)  =E[(X-E[X])(Y-E[Y])] \\
 =E[XY]-E[X]E[Y] 
$$

```python
df = DataFrame({'data1': np.random.randn(5),
                'data2': np.random.randn(5)})
print(df)
# åæ–¹å·®
df.cov()
```

          data1     data2
    0 -0.481723  1.021694
    1  0.628769 -1.134141
    2 -0.463298 -1.042589
    3  0.159722  0.914932
    4 -0.493772 -0.559481
    




<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data1</th>
      <th>data2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>data1</th>
      <td>0.256699</td>
      <td>-0.100965</td>
    </tr>
    <tr>
      <th>data2</th>
      <td>-0.100965</td>
      <td>1.109845</td>
    </tr>
  </tbody>
</table>
</div>


**ç›¸å…³ç³»æ•°**

$$\rho_{xy}=\frac{Cov(X,Y)}{\sqrt{D(X)}\sqrt{D(Y)}}$$

ç§°ä¸ºéšæœºå˜é‡Xå’ŒYçš„ç›¸å…³ç³»æ•°ã€‚

è‹¥$\rho_{xy}=0$ï¼Œåˆ™ç§°Xä¸Yä¸çº¿æ€§ç›¸å…³ã€‚
ç›¸å…³ç³»æ•°çš„ç»å¯¹å€¼å°äºç­‰äº1 ï¼Œ$|\rho_{xy}|\leq 1$ã€‚è¶Šé è¿‘1 ç›¸å…³æ€§è¶Šå¼ºã€‚

```python
# ç›¸å…³ç³»æ•°
df.corr()
```




<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>data1</th>
      <th>data2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>data1</th>
      <td>1.000000</td>
      <td>-0.189159</td>
    </tr>
    <tr>
      <th>data2</th>
      <td>-0.189159</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>


### å‡è®¾æ£€éªŒ
å‡è®¾æ£€éªŒçš„åŸºæœ¬æ­¥éª¤ 
1. æå‡ºé›¶å‡è®¾ 
2. å»ºç«‹æ£€éªŒç»Ÿè®¡é‡ 
3. ç¡®å®šå¦å®šåŸŸ/è®¡ç®—p-value 
4. å¾—å‡ºç»“è®º 

**é›¶å‡è®¾**ï¼ˆåŸå‡è®¾ï¼‰æ˜¯å‡å®šä¸€ä¸ªæ€»ä½“å‚æ•°ç­‰äºæŸä¸ªç‰¹å®šå€¼çš„ä¸€ä¸ªå£°æ˜ï¼Œç”¨$H_0$è¡¨ç¤ºã€‚

**å¤‡æ‹©å‡è®¾**æ˜¯å‡å®šè¯¥æ€»ä½“å‚æ•°ä¸ºé›¶å‡è®¾ä¸­å‡è®¾çš„å€¼é™¤å¤–çš„å€¼ï¼Œç”¨$H_1$è¡¨ç¤ºã€‚

è‹¥å¸Œæœ›å‡è®¾çš„è®ºæ–­æˆç«‹ï¼Œè®¾ä¸ºå¤‡æ‹©å‡è®¾ï¼›è‹¥å¸Œæœ›å‡è®¾çš„è®ºæ–­ä¸æˆç«‹ï¼Œè®¾ä¸ºé›¶å‡è®¾ã€‚


#### æ‹’ç»åŸŸä¸æ˜¾è‘—æ€§æ°´å¹³
**æ‹’ç»åŸŸ**ï¼šä¹Ÿç§°å¦å®šåŸŸï¼Œæ˜¯æŒ‡æ£€éªŒç»Ÿè®¡é‡æ‰€æœ‰å¯ä»¥æ‹’ç»é›¶å‡è®¾çš„å–å€¼æ‰€æ„æˆçš„é›†åˆã€‚
**æ˜¾è‘—æ€§æ°´å¹³**ï¼š$\alpha$ æŒ‡å½“é›¶å‡è®¾æ­£ç¡®çš„æ—¶å€™ï¼Œæ£€éªŒç»Ÿè®¡é‡è½åœ¨æ‹’ç»åŸŸçš„æ¦‚ç‡ã€‚ä¹Ÿå°±æ˜¯å½“é›¶å‡è®¾ä¸ºçœŸè€Œæˆ‘ä»¬å´æ‹’ç»é›¶å‡è®¾è¿™ç§é”™è¯¯å‘ç”Ÿçš„æ¦‚ç‡ã€‚ä¸ç½®ä¿¡åŒºé—´ä¸­çš„æ˜¾è‘—æ€§æ°´å¹³ $\alpha$ æ„ä¹‰ä¸€è‡´ã€‚å¸¸ç”¨å–å€¼ï¼š0.1,0.05,0.01
**ä¸´ç•Œå€¼**ï¼šæ‹’ç»åŸŸä¸éæ‹’ç»åŸŸçš„åˆ†ç•Œçº¿
**P-value**ï¼šæ ·æœ¬å‘ç”Ÿæˆ–è€…æ¯”æ ·æœ¬æ›´æç«¯çš„æƒ…å†µå‘ç”Ÿçš„æ¦‚ç‡ï¼Œè¶Šå°è¶Šæ‹’ç»

#### å†³å®šè§„åˆ™
æ–¹æ³• |æ‹’ç»é›¶å‡è®¾ |ä¸æ‹’ç»é›¶å‡è®¾
--|--|--
ä¸´ç•Œå€¼æ³• |æ£€éªŒç»Ÿè®¡é‡è½åœ¨æ‹’ç»åŸŸ |æ£€éªŒç»Ÿè®¡é‡æ²¡æœ‰è½åœ¨æ‹’ç»åŸŸ
P-valueæ³• |P-value$\leq\alpha$ |P-value$>\alpha$
å¦ä¸€ä¸ªé€‰æ‹©| ä¸é‡‡ç”¨å…·ä½“çš„$\alpha$å€¼ï¼Œå†™å‡ºP-valueç•™ç»™è¯»è€…è‡ªå·±åˆ¤æ–­


#### ç¬¬ä¸€ç±»é”™è¯¯ä¸ç¬¬äºŒç±»é”™è¯¯
**ç¬¬ä¸€ç±»é”™è¯¯**ï¼šé›¶å‡è®¾æ­£ç¡®çš„æƒ…å†µä¸‹æ‹’ç»äº†é›¶å‡è®¾ï¼Œé”™æ€å¥½äºº
**ç¬¬äºŒç±»é”™è¯¯**ï¼šé›¶å‡è®¾é”™è¯¯çš„æƒ…å†µä¸‹æ²¡æœ‰æ‹’ç»é›¶å‡è®¾ï¼Œæ”¾èµ°åäºº

#### æ£€éªŒç»Ÿè®¡é‡ï¼ˆtest statisticsï¼‰
zæ£€éªŒ
tæ£€éªŒ
å¡æ–¹æ£€éªŒ
Fæ£€éªŒ

```python
#å‡è®¾æ£€éªŒ
from scipy import stats as ss

df = DataFrame({'data': [10.1, 10, 9.8, 10.5, 9.7, 10.1, 9.9, 10.2, 10.3, 9.9]})
# T-æ£€éªŒ
ss.ttest_1samp(a=df, popmean=10)
```
    Ttest_1sampResult(statistic=array([ 0.65465367]), pvalue=array([ 0.52906417]))
ä¸€èˆ¬ä»¥P < 0.05 ä¸ºæ˜¾è‘—ï¼Œ P <0.01 ä¸ºéå¸¸æ˜¾è‘—ã€‚
P-value è¶Šå°è¶Šæ‹’ç»ï¼Œä¸Šé¢pvalue=0.52906417ï¼Œè¶³å¤Ÿå¤§ï¼Œä¸èƒ½æ‹’ç»åŸå‡è®¾ï¼ˆå‡å€¼ä¸º10ï¼‰ã€‚

å‚è€ƒèµ„æ–™ï¼šç‚¼æ•°æˆé‡‘Pythonæ•°æ®åˆ†æè¯¾ç¨‹